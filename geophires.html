<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge, chrome=1"/>

    <style>
        form {
            display: inline-block;
            vertical-align: top;
        }

        #results {
            display: inline-block;
        }
    </style>
    <script>
        "use strict";

        function submitForm(oFormElement) {
            let xhr = new XMLHttpRequest();
            xhr.onload = function () {

                console.log('Got response', xhr.responseText, xhr);

                let resultsText = ''
                if (xhr.status !== 200) {
                    resultsText = 'Error: ' + xhr.statusText
                } else {
                    resultsText = xhr.responseText
                }
                document.getElementById('results').innerText = resultsText
            }
            xhr.open(oFormElement.method, oFormElement.getAttribute("action"));
            xhr.send(new FormData(oFormElement));
            return false;
        }
    </script>
</head>

<body>
<h1>GEOPHIRES</h1>
<p>
    <a href="https://github.com/softwareengineerprogrammer/softwareengineerprogrammer.github.io/blob/main/geophires.html">
        code
    </a>
</p>
<form method="POST"
      action="https://xi0du897va.execute-api.us-west-2.amazonaws.com/"
      onsubmit="return submitForm(this);">

    <textarea name="geophires_input_parameters"
              cols="69"
              rows="20">
{
    "Print Output to Console": 0,
    "End-Use Option": 2,
    "Reservoir Model": 1,
    "Time steps per year": 6,
    "Reservoir Depth": 6,
    "Gradient 1": 50,
    "Maximum Temperature": 250
  }

    </textarea>
    <br/>
    <input type="submit" value="Submit"/>
</form>
<pre id="results"></pre>
</body>
</html>

